webpackJsonp([1],{Eyc9:function(t,a){},NHnr:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("7+uW"),n={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]};var r=i("VU/8")({name:"app"},n,!1,function(t){i("lPQf")},null,null).exports,h=(i("j1ja"),i("/ocq")),c={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"hello"},[a("ul",[a("li",[a("router-link",{attrs:{to:{name:"LineChart"}}},[this._v("折線圖")])],1),this._v(" "),a("li",[a("router-link",{attrs:{to:{name:"BarPChart"}}},[this._v("橫條圖")])],1)])])},staticRenderFns:[]};var s=i("VU/8")({},c,!1,function(t){i("Ni6o")},null,null).exports,o=i("vwbq"),l={data:function(){return{data:[],chart:{width:500,height:500,paddingTop:30,paddingRight:30,paddingBottom:100,paddingLeft:60},hideTooltip:!0,conWidth:0,canvas:void 0,ctx:void 0,canvasA:void 0,ctxA:void 0,customBase:void 0,custom:void 0,yTick:void 0,dots:void 0,lines:void 0,timer:void 0}},computed:{conRate:function(){return(this.chart.height+this.chart.paddingTop+this.chart.paddingBottom)/(this.chart.width+this.chart.paddingLeft+this.chart.paddingRight)},conHeight:function(){return this.conWidth*this.conRate},chartWidth:function(){return this.conWidth*this.chart.width/(this.chart.width+this.chart.paddingLeft+this.chart.paddingRight)},chartHeight:function(){return this.conHeight*this.chart.height/(this.chart.height+this.chart.paddingTop+this.chart.paddingBottom)},chartTop:function(){return this.conHeight*this.chart.paddingTop/(this.chart.height+this.chart.paddingTop+this.chart.paddingBottom)},chartLeft:function(){return this.conWidth*this.chart.paddingLeft/(this.chart.width+this.chart.paddingLeft+this.chart.paddingRight)},xScale:function(){return o.h().domain([0,this.data[0].value.length]).range([0,this.chartWidth])},yScale:function(){var t,a=[];return this.data.forEach(function(t,i){t.value.forEach(function(t){a.push(t.number)})}),t=o.f(a),o.h().domain([0,t]).range([this.chartHeight,0])},yAxis:function(){return o.c(this.yScale).tickSizeInner(-this.chart.height)},color:function(){return o.i(o.j)},dataArray:function(){var t=[];return this.data.forEach(function(a,i){var e=[];a.value.forEach(function(t){e.push(t.number)}),t.push(e)}),t},line:function(){var t=this;return o.e().x(function(a,i){return t.xScale(i+1)+t.chartLeft}).y(function(a){return t.yScale(a)+t.chartTop})},lineCanvas:function(){var t=this;return o.e().x(function(a,i){return t.xScale(i+1)+t.chartLeft}).y(function(a){return t.yScale(a)+t.chartTop}).context(this.ctxA)}},mounted:function(){this.randomData()},methods:{initCanvas:function(){var t=document.querySelector(".chartContain"),a=document.getElementById("canvas"),i=document.getElementById("canvasA");null!==a&&(a.parentNode.removeChild(a),i.parentNode.removeChild(i)),this.conWidth=t.offsetWidth,this.canvas=o.l(".chartContain").append("canvas").attr("id","canvas").attr("class","chart").attr("width",this.conWidth).attr("height",this.conHeight),this.canvasA=o.l(".chartContain").append("canvas").attr("id","canvasA").attr("class","chartA").attr("width",this.conWidth).attr("height",this.conHeight),this.ctx=this.canvas.node().getContext("2d"),this.ctxA=this.canvasA.node().getContext("2d"),this.customBase=document.createElement("custom"),this.custom=o.l(this.customBase),this.dataBind(this.data)},dataBind:function(t){var a=this,i=0,e=0;this.yTick=this.custom.append("g").attr("class","axis axisY").call(this.yAxis).selectAll("g.tick"),this.lines=this.custom.selectAll("g.line").data(this.dataArray).enter().append("path").attr("fill","none").attr("stroke",function(t,i){return a.color(i)}).attr("d",function(t){return a.line(t)}),this.dots=this.custom.selectAll("g.dot").data(t).enter().append("g").attr("class","dot").selectAll("circle.circle").data(function(t){return t.value}).enter().append("circle").attr("class","circle"),this.dots.attr("cx",function(t,i){return a.xScale(i+1)+a.chartLeft}).attr("cy",function(t){return a.yScale(t.number)+a.chartTop}).attr("r","5").attr("fill",function(){return i++,a.color(Math.floor((i-1)/5))}).attr("name",function(t,i){return e++,a.data[Math.floor((e-1)/5)].name}).attr("stroke","#FFFFFF"),this.drawCanvas()},drawCanvas:function(){var t=this,a=document.querySelector("#canvasA");this.ctx.clearRect(0,0,this.conWidth,this.conHeight),this.ctx.beginPath(),this.data[0].value.forEach(function(a,i){t.ctx.moveTo(t.xScale(i+1)+t.chartLeft,t.chartTop+t.chartHeight),t.ctx.lineTo(t.xScale(i+1)+t.chartLeft,t.chartTop+t.chartHeight+6)}),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(this.chartLeft,this.chartTop+this.chartHeight),this.ctx.lineTo(this.chartLeft+this.chartWidth,this.chartTop+this.chartHeight),this.ctx.stroke(),this.ctx.textAlign="center",this.ctx.textBaseline="top",this.data[0].value.forEach(function(a,i){t.ctx.fillText(a.month,t.xScale(i+1)+t.chartLeft,t.chartTop+t.chartHeight+6)}),this.data.forEach(function(a,i){t.ctx.save(),t.ctx.beginPath(),t.ctx.arc(t.chartLeft+100*i,t.chartTop+t.chartHeight+50,5,0,2*Math.PI),t.ctx.fillStyle=t.color(i),t.ctx.fill(),t.ctx.closePath(),t.ctx.textAlign="left",t.ctx.textBaseline="middle",t.ctx.font="16px sans-serif",t.ctx.fillStyle="#000",t.ctx.fillText(a.name,t.chartLeft+100*i+10,t.chartTop+t.chartHeight+50),t.ctx.restore()}),this.ctx.beginPath(),this.yTick.each(function(a,i,e){var n=o.l(e[i]).attr("transform"),r=Number(n.split(",")[1].split(")")[0])+t.chartTop;0!==i&&(t.ctx.moveTo(t.chartLeft,r),t.ctx.lineTo(t.chartLeft+t.chartWidth,r))}),this.ctx.strokeStyle="#e6e6e6",this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(this.chartLeft-6,this.chartTop),this.ctx.lineTo(this.chartLeft,this.chartTop),this.ctx.strokeStyle="#000",this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(this.chartLeft,this.chartTop),this.ctx.lineTo(this.chartLeft,this.chartTop+this.chartHeight),this.ctx.stroke(),this.ctx.textAlign="right",this.ctx.textBaseline="middle",this.yTick.each(function(a,i,e){var n=o.l(e[i]),r=n.attr("transform"),h=Number(r.split(",")[1].split(")")[0])+t.chartTop;t.ctx.fillText(n.property("innerText"),t.chartLeft-6,h)}),this.ctx.save(),this.ctx.translate(0,0),this.ctx.rotate(-Math.PI/2),this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.font="16px sans-serif",this.ctx.fillText("件數",-(this.chartTop+this.chartHeight/2),0),this.ctx.restore(),this.timer=o.m(function(a){t.animationLine(a)}),a.addEventListener("mousemove",function(a){t.showTooltip(a)})},animationLine:function(t){var a=this,i=Math.min(1,t/500);this.ctxA.clearRect(0,0,this.conWidth,this.conHeight),this.lines.each(function(t,e,n){var r,h=document.querySelector("#calPath path"),c=o.l(n[e]);h.setAttribute("d",c.attr("d")),r=h.getTotalLength(),a.ctxA.setLineDash([r]),a.ctxA.lineDashOffset=r*(1-i),a.ctxA.beginPath(),a.lineCanvas(a.dataArray[e]),a.ctxA.strokeStyle=a.color(e),a.ctxA.stroke()}),this.dots.each(function(t,e,n){var r=o.l(n[e]);a.ctxA.beginPath(),a.ctxA.arc(r.attr("cx"),r.attr("cy"),Number(r.attr("r"))*i,0,2*Math.PI),a.ctxA.fillStyle=r.attr("fill"),a.ctxA.fill(),a.ctxA.strokeStyle=r.attr("stroke"),a.ctxA.stroke(),a.ctxA.closePath()}),1===i&&this.timer.stop()},randomData:function(){for(var t=[{name:"鼓山區",value:[{month:"6月",number:"233"},{month:"7月",number:"412"},{month:"8月",number:"533"},{month:"9月",number:"267"},{month:"10月",number:"321"}]},{name:"左營區",value:[{month:"6月",number:"432"},{month:"7月",number:"443"},{month:"8月",number:"334"},{month:"9月",number:"233"},{month:"10月",number:"114"}]},{name:"楠梓區",value:[{month:"6月",number:"222"},{month:"7月",number:"333"},{month:"8月",number:"441"},{month:"9月",number:"468"},{month:"10月",number:"378"}]}],a=0;a<3;a++)t[a].value.forEach(function(t){t.number=Math.floor(501*Math.random())+0});this.data=t,this.initCanvas(),window.addEventListener("resize",this.initCanvas)},showTooltip:function(t){var a=this,i=document.querySelector("#canvasA").getBoundingClientRect(),e=t.clientX-i.left,n=t.clientY-i.top,r=e+20,h=n,c=!1;this.dots.each(function(t,i,s){var l=o.l(s[i]);a.ctxA.beginPath(),a.ctxA.arc(l.attr("cx"),l.attr("cy"),l.attr("r"),0,2*Math.PI),a.ctxA.isPointInPath(e,n)&&!c?(document.querySelector(".tooltip").setAttribute("style","left: "+r+"px; top: "+h+"px;"),document.querySelector(".tooltip .name").innerHTML=l.attr("name")+" / "+t.month,document.querySelector(".tooltip .value").innerHTML=t.number+" 件",a.hideTooltip=!1,c=!0):a.ctxA.isPointInPath(e,n)||c||(a.hideTooltip=!0)})}}},u={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"lineChart"},[i("h1",[t._v("折線圖")]),t._v(" "),i("div",{staticClass:"detail"},[t._v("高雄市不動產買賣統計(104年6-10月)")]),t._v(" "),i("div",{staticClass:"chartContain"},[i("svg",{attrs:{version:"1.1",id:"calPath"}},[i("path",{attrs:{d:""}})]),t._v(" "),i("div",{class:{tooltip:!0,hidden:t.hideTooltip}},[i("div",{staticClass:"name"},[t._v("左營區 / 10月")]),t._v(" "),i("div",{staticClass:"value"},[t._v("214 件")])])]),t._v(" "),i("button",{on:{click:t.randomData}},[t._v("隨機資料")])])},staticRenderFns:[]};var d=i("VU/8")(l,u,!1,function(t){i("fVNG")},null,null).exports,f={data:function(){return{data:[],chart:{width:500,height:500,paddingTop:30,paddingRight:30,paddingBottom:100,paddingLeft:60},hideTooltip:!0,conWidth:0,canvas:void 0,ctx:void 0,canvasA:void 0,ctxA:void 0,customBase:void 0,custom:void 0,xTick:void 0,yTick:void 0,bars:void 0}},computed:{conRate:function(){return(this.chart.height+this.chart.paddingTop+this.chart.paddingBottom)/(this.chart.width+this.chart.paddingLeft+this.chart.paddingRight)},conHeight:function(){return this.conWidth*this.conRate},chartWidth:function(){return this.conWidth*this.chart.width/(this.chart.width+this.chart.paddingLeft+this.chart.paddingRight)},chartHeight:function(){return this.conHeight*this.chart.height/(this.chart.height+this.chart.paddingTop+this.chart.paddingBottom)},chartTop:function(){return this.conHeight*this.chart.paddingTop/(this.chart.height+this.chart.paddingTop+this.chart.paddingBottom)},chartLeft:function(){return this.conWidth*this.chart.paddingLeft/(this.chart.width+this.chart.paddingLeft+this.chart.paddingRight)},valueLength:function(){return this.data.value?this.data.value.length:0},xScale:function(){var t,a=[];return this.data.value.forEach(function(t){a.push(t.number)}),t=o.f(a),o.h().domain([0,t]).range([0,this.chartWidth])},yScale:function(){return o.h().domain([0,this.data.value.length+1]).range([this.chartHeight,0])},xAxis:function(){return o.b(this.xScale).tickSizeInner(-this.chartWidth)},yAxis:function(){var t=this,a=this.valueLength<3?this.valueLength+1:this.valueLength;return o.c(this.yScale).ticks(a).tickFormat(function(a,i){return t.yLabel[i]})},yLabel:function(){var t=[""];return this.data.value.forEach(function(a){t.push(a.month)}),t},color:function(){return o.i(o.j)},barWidth:function(){return this.chartHeight/(this.valueLength+1)-20}},mounted:function(){this.randomData()},methods:{initCanvas:function(){var t=document.querySelector(".chartContain"),a=document.getElementById("canvas"),i=document.getElementById("canvasA");null!==a&&(a.parentNode.removeChild(a),i.parentNode.removeChild(i)),this.conWidth=t.offsetWidth,this.canvas=o.l(".chartContain").append("canvas").attr("id","canvas").attr("class","chart").attr("width",this.conWidth).attr("height",this.conHeight),this.canvasA=o.l(".chartContain").append("canvas").attr("id","canvasA").attr("class","chartA").attr("width",this.conWidth).attr("height",this.conHeight),this.ctx=this.canvas.node().getContext("2d"),this.ctxA=this.canvasA.node().getContext("2d"),this.customBase=document.createElement("custom"),this.custom=o.l(this.customBase),this.dataBind(this.data)},dataBind:function(t){var a=this;this.xTick=this.custom.append("g").attr("class","axis axisX").call(this.xAxis).selectAll("g.tick"),this.yTick=this.custom.append("g").attr("class","axis axisY").call(this.yAxis).selectAll("g.tick"),this.bars=this.custom.append("g").attr("class","bars").selectAll("rect.bar").data(t.value).enter().append("rect").attr("class","bar"),this.bars.attr("fill",this.color(0)).attr("x",this.chartLeft).attr("y",function(t,i){return a.chartTop+a.yScale(i+1)-a.barWidth/2}).attr("width",function(t){return a.xScale(t.number)}).attr("height",this.barWidth),this.drawCanvas()},drawCanvas:function(){var t=this,a=document.querySelector("#canvasA");this.ctx.save(),this.ctx.beginPath(),this.xTick.each(function(a,i,e){var n=o.l(e[i]).attr("transform"),r=Number(n.split(",")[0].split("(")[1])+t.chartLeft;0!==i&&(t.ctx.moveTo(r,t.chartTop),t.ctx.lineTo(r,t.chartTop+t.chartHeight))}),this.ctx.setLineDash([4,6]),this.ctx.lineWidth=2,this.ctx.strokeStyle="#efefef",this.ctx.stroke(),this.ctx.restore(),this.ctx.textAlign="center",this.ctx.textBaseline="top",this.xTick.each(function(a,i,e){var n=o.l(e[i]),r=n.attr("transform"),h=Number(r.split(",")[0].split("(")[1])+t.chartLeft;t.ctx.fillText(n.property("innerText"),h,t.chartTop+t.chartHeight)}),this.ctx.save(),this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.font="16px sans-serif",this.ctx.fillText("件數",this.conWidth/2,this.chartTop+this.chartHeight+30),this.ctx.restore(),this.ctx.beginPath(),this.yTick.each(function(a,i,e){var n=o.l(e[i]).attr("transform"),r=Number(n.split(",")[1].split(")")[0])+t.chartTop;0!==i&&(t.ctx.moveTo(t.chartLeft-6,r),t.ctx.lineTo(t.chartLeft,r))}),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(this.chartLeft-6,this.chartTop+this.chartHeight),this.ctx.lineTo(this.chartLeft,this.chartTop+this.chartHeight),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(this.chartLeft,this.chartTop),this.ctx.lineTo(this.chartLeft,this.chartTop+this.chartHeight),this.ctx.stroke(),this.ctx.textAlign="right",this.ctx.textBaseline="middle",this.yTick.each(function(a,i,e){var n=o.l(e[i]),r=n.attr("transform"),h=Number(r.split(",")[1].split(")")[0])+t.chartTop;t.ctx.fillText(n.property("innerText"),t.chartLeft-6,h)}),this.timer=o.m(function(a){t.animationLine(a)}),a.addEventListener("mousemove",function(a){t.showTooltip(a)})},animationLine:function(t){var a=this,i=Math.min(1,t/800);this.ctxA.clearRect(0,0,this.conWidth,this.conHeight),this.bars.each(function(t,e,n){var r=o.l(n[e]);a.ctxA.rect(r.attr("x"),r.attr("y"),r.attr("width")*i,r.attr("height")),a.ctxA.globalAlpha=i,a.ctxA.fillStyle=r.attr("fill"),a.ctxA.fill()}),this.ctxA.textBaseline="middle",this.ctxA.font="16px sans-serif",this.bars.each(function(t,i,e){var n=o.l(e[i]),r=Number(n.attr("width"))+a.chartLeft-5;r<a.chartLeft+50?(a.ctxA.fillStyle="#000",a.ctxA.textAlign="left",r=Number(n.attr("width"))+a.chartLeft+5):(a.ctxA.fillStyle="#fff",a.ctxA.textAlign="right"),a.ctxA.fillText(t.number,r,Number(n.attr("y"))+a.barWidth/2)}),1===i&&this.timer.stop()},randomData:function(){for(var t=Math.floor(12*Math.random())+1,a={name:"鼓山區",value:[]},i=0;i<t;i++)a.value.push({month:i+1+"月",number:Math.floor(501*Math.random())+0});this.data=a,this.initCanvas(),window.addEventListener("resize",this.initCanvas)},showTooltip:function(t){var a=this,i=document.querySelector("#canvasA").getBoundingClientRect(),e=t.clientX-i.left,n=t.clientY-i.top,r=e+20,h=n,c=!1;this.bars.each(function(t,i,s){var l=o.l(s[i]);a.ctxA.beginPath(),a.ctxA.rect(l.attr("x"),l.attr("y"),l.attr("width"),l.attr("height")),a.ctxA.isPointInPath(e,n)&&!c?(document.querySelector(".tooltip").setAttribute("style","left: "+r+"px; top: "+h+"px;"),document.querySelector(".tooltip .name").innerHTML=a.data.name+" / "+t.month,document.querySelector(".tooltip .value").innerHTML=t.number+" 件",a.hideTooltip=!1,c=!0):a.ctxA.isPointInPath(e,n)||c||(a.hideTooltip=!0)})}}},v={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"barpChart"},[i("h1",[t._v("橫條圖")]),t._v(" "),i("div",{staticClass:"detail"},[t._v("高雄市鼓山區不動產買賣統計(104年)")]),t._v(" "),i("div",{staticClass:"chartContain"},[i("div",{class:{tooltip:!0,hidden:t.hideTooltip}},[i("div",{staticClass:"name"},[t._v("左營區 / 10月")]),t._v(" "),i("div",{staticClass:"value"},[t._v("214 件")])])]),t._v(" "),i("button",{on:{click:t.randomData}},[t._v("隨機資料")])])},staticRenderFns:[]};var p=i("VU/8")(f,v,!1,function(t){i("YyR9")},null,null).exports,m={data:function(){return{data:[],chart:{width:500,height:500,paddingTop:30,paddingRight:30,paddingBottom:100,paddingLeft:60,gap:40},hideTooltip:!0}},computed:{viewBox:function(){return"0 0 "+(this.chart.width+this.chart.paddingRight+this.chart.paddingLeft)+" "+(this.chart.height+this.chart.paddingTop+this.chart.paddingBottom)},startPoint:function(){return"translate("+this.chart.paddingLeft+", "+this.chart.paddingTop+")"},valueLength:function(){return this.data[0]?this.data[0].value.length:0},xAxis:function(){var t=this,a=this.valueLength<3?this.valueLength+1:this.valueLength;return o.b(this.xScale).ticks(a).tickFormat(function(a,i){return t.xLabel[i]})},yAxis:function(){return o.c(this.yScale).tickSizeInner(-this.chart.height)},xScale:function(){return o.h().domain([0,this.data[0].value.length+1]).range([0,this.chart.width])},yScale:function(){var t,a=[];return this.data.forEach(function(t){t.value.forEach(function(t){a.push(t.number)})}),t=o.f(a),o.h().domain([0,t]).range([this.chart.height,0])},xLabel:function(){var t=[""];return this.data[0].value.forEach(function(a){t.push(a.month)}),t},axisYText:function(){return[0-this.chart.height/2,0-this.chart.paddingLeft]},color:function(){return o.i(o.k)},barWidth:function(){return(this.chart.width/(this.valueLength+1)*this.valueLength-this.chart.gap*this.data.length)/(this.valueLength*this.data.length)},bar:function(){var t=this,a=[];return this.valueLength&&this.data.forEach(function(i,e){var n=[];i.value.forEach(function(a,i){n.push({x:t.xScale(i+1)-t.barWidth*t.data.length/2+t.barWidth*e,y:t.yScale(a.number),width:t.barWidth,height:t.chart.height-t.yScale(a.number)})}),a.push({rect:n,color:t.color(e)})}),a},barText:function(){var t=this,a=[];return this.valueLength&&this.data.forEach(function(i,e){i.value.forEach(function(i,n){a.push({x:t.xScale(n+1)-t.barWidth*t.data.length/2+t.barWidth/2+t.barWidth*e,y:t.yScale(i.number)-8,number:i.number})})}),a},label:function(){var t=this,a=[];return this.data.forEach(function(i,e){a.push({name:i.name,cx:100*e,cy:t.chart.height+45,color:t.color(e),x:100*e+10,y:t.chart.height+50})}),a}},mounted:function(){this.randomData()},methods:{randomData:function(){var t=Math.floor(12*Math.random())+1,a=[{name:"鼓山區",value:[]},{name:"左營區",value:[]},{name:"楠梓區",value:[]}];a.forEach(function(a){for(var i=0;i<t;i++)a.value.push({month:i+1+"月",number:Math.floor(501*Math.random())+0})}),this.data=a,document.querySelector(".chart .axisX").innerHTML="",document.querySelector(".chart .axisY").innerHTML="",o.l(".chart .axisX").call(this.xAxis),o.l(".chart .axisY").call(this.yAxis)},showTooltip:function(t,a,i){var e=i.clientX+20,n=i.clientY;document.querySelector(".tooltip").setAttribute("style","left: "+e+"px; top: "+n+"px;"),document.querySelector(".tooltip .name").innerHTML=this.data[t].name+" / "+this.data[t].value[a].month,document.querySelector(".tooltip .value").innerHTML=this.data[t].value[a].number+" 件",this.hideTooltip=!1},hiddenTooltip:function(){this.hideTooltip=!0}}},x={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"barVChart"},[i("h1",[t._v("直條圖")]),t._v(" "),i("div",{staticClass:"detail"},[t._v("高雄市不動產買賣統計(104年)")]),t._v(" "),i("div",{staticClass:"chartContain"},[i("svg",{staticClass:"chart",attrs:{viewBox:t.viewBox,preserveAspectRatio:"xMidYMin slice"}},[i("g",{staticClass:"chartWrap",attrs:{transform:t.startPoint}},[i("g",{staticClass:"axis axisX",attrs:{transform:"translate(0, "+t.chart.height+")",fill:"none","font-size":"10","font-family":"sans-serif","text-anchor":"middle"}}),t._v(" "),i("g",{staticClass:"axis axisY",attrs:{fill:"none","font-size":"10","font-family":"sans-serif","text-anchor":"end"}}),t._v(" "),i("text",{staticClass:"axisYText",attrs:{transform:"rotate(-90)",x:t.axisYText[0],y:t.axisYText[1],dy:"1em","text-anchor":"middle"}},[t._v("件數")]),t._v(" "),i("transition-group",{attrs:{tag:"g",name:"growBar"}},t._l(t.bar,function(a,e){return i("transition-group",{key:""+e+a.rect.height+a.rect.x,staticClass:"bar",attrs:{tag:"g",name:"growBar"}},t._l(a.rect,function(n,r){return i("rect",{key:""+r+n.height+n.x,attrs:{fill:a.color,x:n.x,y:n.y,width:n.width,height:n.height},on:{mouseover:function(a){t.showTooltip(e,r,a)},mouseout:t.hiddenTooltip}})}))})),t._v(" "),i("transition-group",{staticClass:"barText",attrs:{tag:"g",name:"growText"}},t._l(t.barText,function(a,e){return i("text",{key:""+e+a.x+a.y+a.number,attrs:{fill:"gray","font-size":"12","text-anchor":"middle",x:a.x,y:a.y}},[t._v(t._s(a.number))])})),t._v(" "),t._l(t.label,function(a,e){return i("g",{key:e,staticClass:"label"},[i("circle",{attrs:{cx:a.cx,cy:a.cy,r:"5",fill:a.color}}),t._v(" "),i("text",{attrs:{x:a.x,y:a.y}},[t._v(t._s(a.name))])])})],2)]),t._v(" "),i("div",{class:{tooltip:!0,hidden:t.hideTooltip}},[i("div",{staticClass:"name"},[t._v("左營區 / 10月")]),t._v(" "),i("div",{staticClass:"value"},[t._v("214 件")])])]),t._v(" "),i("button",{on:{click:t.randomData}},[t._v("隨機資料")])])},staticRenderFns:[]};var g=i("VU/8")(m,x,!1,function(t){i("Eyc9")},null,null).exports,T={data:function(){return{data:[],chart:{innerRadius:100,outerRadius:200},hideTooltip:!0}},computed:{radius:function(){return this.chart.outerRadius-(this.chart.outerRadius-this.chart.innerRadius)/2},circum:function(){return 2*Math.PI*this.radius},color:function(){return o.i(o.k)},totalSum:function(){var t=0;return this.data.length&&this.data.forEach(function(a,i){t+=a.value}),t},donut:function(){var t=this,a=[],i=0;return this.data.length&&this.data.forEach(function(e,n){a.push({percentage:e.value/t.totalSum*100,offset:t.circum*(1-i),color:t.color(n)}),i+=e.value/t.totalSum}),a},pie:function(){var t=this,a=[],i=o.d(".0%"),e=o.g().sort(null).value(function(t){return t.value})(this.data);return this.data.length&&this.data.forEach(function(n,r){var h=o.a().innerRadius(t.chart.innerRadius).outerRadius(t.chart.outerRadius);a.push({d:h({startAngle:e[r].startAngle,endAngle:e[r].endAngle}),centroid:h.centroid(e[r]),percentage:i(n.value/t.totalSum)})}),a}},mounted:function(){this.randomData()},methods:{randomData:function(){var t=this,a=[];[{name:"鼓山區",value:233},{name:"左營區",value:290},{name:"楠梓區",value:355},{name:"三民區",value:340},{name:"苓雅區",value:173},{name:"前鎮區",value:199},{name:"小港區",value:145},{name:"鳳山區",value:394},{name:"大寮區",value:151},{name:"仁武區",value:139},{name:"岡山區",value:107}].forEach(function(t,i){Math.random()>=.5&&a.push(t)}),a.forEach(function(t){t.value=Math.floor(501*Math.random())+0}),this.data=a,this.$nextTick().then(function(){t.donut.forEach(function(a,i){var e=t.dasharray(a.percentage);t.$refs.circles[i].style.cssText="stroke-dasharray: 0 "+t.circum+"; opacity: 0",setTimeout(function(){t.$refs.circles[i].style.cssText="stroke-dasharray: "+e.dash+" "+e.gap+"; opacity: 1"},500)})})},dasharray:function(t){return{dash:this.circum/100*t,gap:this.circum/100*(100-t)}},showTooltip:function(t,a){var i=a.clientX+20,e=a.clientY;document.querySelector(".tooltip").setAttribute("style","left: "+i+"px; top: "+e+"px;"),document.querySelector(".tooltip .name").innerHTML=this.data[t].name+" / "+this.pie[t].percentage,document.querySelector(".tooltip .value").innerHTML=this.data[t].value+" 件",this.hideTooltip=!1},hiddenTooltip:function(){this.hideTooltip=!0}}},y={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"donutChart"},[i("h1",[t._v("甜甜圈圖")]),t._v(" "),i("div",{staticClass:"detail"},[t._v("高雄市不動產買賣統計(104年6月)")]),t._v(" "),i("div",{staticClass:"chartContain"},[i("div",{staticClass:"chartWrap"},[i("svg",{staticClass:"chart",attrs:{viewBox:"0 0 "+2*t.chart.outerRadius+" "+2*t.chart.outerRadius,preserveAspectRatio:"xMidYMin slice"}},[t._l(t.donut,function(a,e){return i("circle",{key:""+e+a.percentage+a.offset,ref:"circles",refInFor:!0,staticClass:"circle",attrs:{r:t.radius,cx:t.chart.outerRadius,cy:t.chart.outerRadius,"stroke-width":t.chart.outerRadius-t.chart.innerRadius,"stroke-dashoffset":a.offset,stroke:a.color,fill:"transparent"}})}),t._v(" "),t._l(t.pie,function(a,e){return i("g",{key:""+e+a.d,staticClass:"arc",attrs:{transform:"translate("+t.chart.outerRadius+","+t.chart.outerRadius+") rotate(90)"},on:{mouseover:function(a){t.showTooltip(e,a)},mouseout:t.hiddenTooltip}},[i("path",{attrs:{fill:"transparent",d:a.d}}),t._v(" "),i("text",{attrs:{transform:"translate("+a.centroid+")","text-anchor":"middle",fill:"white"}},[t._v(t._s(a.percentage)+"\n          ")])])})],2)]),t._v(" "),i("ul",{staticClass:"labelWrap"},t._l(t.pie,function(a,e){return i("li",{key:""+e+a.d},[i("span",{staticClass:"color",style:"background-color: "+t.donut[e].color+";"}),t._v(" "),i("span",{staticClass:"region"},[t._v(t._s(t.data[e].name))]),t._v(" "),i("span",{staticClass:"percentage"},[t._v(t._s(a.percentage))])])})),t._v(" "),i("div",{class:{tooltip:!0,hidden:t.hideTooltip}},[i("div",{staticClass:"name"},[t._v("左營區 / 10%")]),t._v(" "),i("div",{staticClass:"value"},[t._v("214 件")])])]),t._v(" "),i("button",{on:{click:t.randomData}},[t._v("隨機資料")])])},staticRenderFns:[]};var b=i("VU/8")(T,y,!1,function(t){i("gJ2+")},null,null).exports;e.a.use(h.a);var A=new h.a({mode:"history",fallback:!1,routes:[{path:"/d3-practice-vue-canvas/dist/",name:"HelloWorld",component:s},{path:"/d3-practice-vue-canvas/dist/LineChart",name:"LineChart",component:d},{path:"/d3-practice-vue-canvas/dist/BarPChart",name:"BarPChart",component:p},{path:"/d3-practice-vue-canvas/dist/BarVChart",name:"BarVChart",component:g},{path:"/d3-practice-vue-canvas/dist/DonutChart",name:"DonutChart",component:b},{path:"*",redirect:"/d3-practice-vue-canvas/dist/"}]});e.a.config.productionTip=!1,new e.a({el:"#app",router:A,components:{App:r},template:"<App/>"})},Ni6o:function(t,a){},YyR9:function(t,a){},fVNG:function(t,a){},"gJ2+":function(t,a){},lPQf:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.0e3a355615ba8eee8f02.js.map